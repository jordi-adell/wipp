language: cpp

addons:
 apt:
  sources:
   - george-edison55-precise-backports # cmake 3.2.3
  packages:
   - cmake
   - cmake-data

branches:
 only:
  - master

before_install:
 - sudo add-apt-repository ppa:george-edison55/cmake-3.x --yes
 - sudo apt-get update

install:
- sudo apt-get install cmake

before_script:
 - mkdir build
 - cd build
 - cmake -Dtest=yes ../

script:
 - make test

